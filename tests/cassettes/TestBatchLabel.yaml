---
version: 1
interactions:
- request:
    body: '{"batch":{"shipments":[{"to_address":{"street1":"388 Townsend St","street2":"Apt
      20","city":"San Francisco","state":"CA","zip":"94107","name":"Jack Sparrow","company":"EasyPost","phone":"5555555555"},"from_address":{"street1":"388
      Townsend St","street2":"Apt 20","city":"San Francisco","state":"CA","zip":"94107","name":"Jack
      Sparrow","company":"EasyPost","phone":"5555555555"},"parcel":{"length":10,"width":8,"height":4,"weight":15.4},"carrier":"USPS","service":"First","carrier_accounts":["ca_e606176ddb314afe896733636dba2f3b"]},null]}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - EasyPost/v2 GoClient/2.0.1 Go/go1.17.5 OS/darwin
    url: https://api.easypost.com/v2/batches
    method: POST
  response:
    body: '{"id":"batch_9f7f0c7d7145489d99cad75443d85282","object":"Batch","mode":"test","state":"creating","num_shipments":1,"reference":null,"created_at":"2022-03-03T19:08:41Z","updated_at":"2022-03-03T19:08:41Z","scan_form":null,"shipments":[],"status":{"created":0,"queued_for_purchase":0,"creation_failed":0,"postage_purchased":0,"postage_purchase_failed":0},"pickup":null,"label_url":null}'
    headers:
      Cache-Control:
      - no-cache, no-store
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"c9a108d21680cdcafb85c8fb555bb8c3"
      Expires:
      - "0"
      Pragma:
      - no-cache
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Backend:
      - easypost
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Ep-Request-Uuid:
      - 9cb90d0e62211238ff135a20001f1ee9
      X-Frame-Options:
      - SAMEORIGIN
      X-Node:
      - bigweb2nuq
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Proxied:
      - intlb1nuq 88c34981dc
      - intlb1wdc 88c34981dc
      - extlb1wdc 88c34981dc
      X-Request-Id:
      - 766336e2-b313-4b84-b1a2-1ac01431cebf
      X-Runtime:
      - "0.040458"
      X-Version-Label:
      - easypost-202203031834-4b65a7cdf4-master
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - EasyPost/v2 GoClient/2.0.1 Go/go1.17.5 OS/darwin
    url: https://api.easypost.com/v2/batches/batch_9f7f0c7d7145489d99cad75443d85282/buy
    method: POST
  response:
    body: '{"id":"batch_9f7f0c7d7145489d99cad75443d85282","object":"Batch","mode":"test","state":"created","num_shipments":1,"reference":null,"created_at":"2022-03-03T19:08:41Z","updated_at":"2022-03-03T19:08:41Z","scan_form":null,"shipments":[{"batch_status":"queued_for_purchase","batch_message":null,"reference":null,"tracking_code":null,"id":"shp_d7f227589f1f4f6792707693bcb313fc"}],"status":{"created":1,"queued_for_purchase":0,"creation_failed":0,"postage_purchased":0,"postage_purchase_failed":0},"pickup":null,"label_url":null}'
    headers:
      Cache-Control:
      - no-cache, no-store
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"8a98360ab61705d373df9a333c5036dd"
      Expires:
      - "0"
      Pragma:
      - no-cache
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Backend:
      - easypost
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Ep-Request-Uuid:
      - 9cb90d0e62211239ff135a20001f1ef3
      X-Frame-Options:
      - SAMEORIGIN
      X-Node:
      - bigweb3nuq
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Proxied:
      - intlb2nuq 88c34981dc
      - intlb1wdc 88c34981dc
      - extlb1wdc 88c34981dc
      X-Request-Id:
      - 8211151f-0c1d-42f0-a4a9-37713e95c5ff
      X-Runtime:
      - "0.050941"
      X-Version-Label:
      - easypost-202203031834-4b65a7cdf4-master
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: file_format=ZPL
    form: {}
    headers:
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - EasyPost/v2 GoClient/2.0.1 Go/go1.17.5 OS/darwin
    url: https://api.easypost.com/v2/batches/batch_9f7f0c7d7145489d99cad75443d85282/label
    method: GET
  response:
    body: '{"error":{"code":"NOT_FOUND","message":"The requested resource could not
      be found.","errors":[]}}'
    headers:
      Cache-Control:
      - no-cache, no-store
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "0"
      Pragma:
      - no-cache
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Backend:
      - easypost
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Ep-Request-Uuid:
      - 9cb90d0e62211239ff135a20001f1efc
      X-Frame-Options:
      - SAMEORIGIN
      X-Node:
      - bigweb6nuq
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Proxied:
      - intlb2nuq 88c34981dc
      - intlb1wdc 88c34981dc
      - extlb1wdc 88c34981dc
      X-Request-Id:
      - 6995c561-fc55-4cea-948d-0fb5f8fea0d3
      X-Runtime:
      - "0.020434"
      X-Version-Label:
      - easypost-202203031834-4b65a7cdf4-master
      X-Xss-Protection:
      - 1; mode=block
    status: 404 Not Found
    code: 404
    duration: ""
