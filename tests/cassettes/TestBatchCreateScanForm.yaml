---
version: 1
interactions:
- request:
    body: '{"batch":{"shipments":[{"to_address":{"street1":"388 Townsend St","street2":"Apt
      20","city":"San Francisco","state":"CA","zip":"94107","country":"US","name":"Jack
      Sparrow","phone":"5555555555","email":"test@example.com"},"from_address":{"street1":"179
      N Harbor Dr","city":"Redondo Beach","state":"CA","zip":"90277","country":"US","name":"Elizabeth
      Swan","phone":"5555555555","email":"test@example.com"},"parcel":{"length":10,"width":8,"height":4,"weight":15.4},"carrier":"USPS","service":"First","carrier_accounts":["ca_e606176ddb314afe896733636dba2f3b"]}]}}'
    form: {}
    headers:
      Authorization:
      - REDACTED
      Content-Type:
      - application/json
      User-Agent:
      - REDACTED
    url: https://api.easypost.com/v2/batches
    method: POST
  response:
    body: '{"id":"batch_13cc297d60e7438db6ac3c129e58ca7f","object":"Batch","mode":"test","state":"creating","num_shipments":1,"reference":null,"created_at":"2022-08-19T17:47:30Z","updated_at":"2022-08-19T17:47:30Z","scan_form":null,"shipments":[],"status":{"created":0,"queued_for_purchase":0,"creation_failed":0,"postage_purchased":0,"postage_purchase_failed":0},"pickup":null,"label_url":null}'
    headers:
      Cache-Control:
      - private, no-cache, no-store
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"3fe78867d2b60f4620ebdfe6416e1eef"
      Expires:
      - "0"
      Pragma:
      - no-cache
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Backend:
      - easypost
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Ep-Request-Uuid:
      - 2196158562ffccb2ff246ba100700a9f
      X-Frame-Options:
      - SAMEORIGIN
      X-Node:
      - bigweb8nuq
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Proxied:
      - intlb2nuq 6aa9972c1e
      - intlb2wdc 6aa9972c1e
      - extlb4wdc 9ce216bfac
      X-Runtime:
      - "0.039120"
      X-Version-Label:
      - easypost-202208182050-2b41e8e3e0-master
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Authorization:
      - REDACTED
      User-Agent:
      - REDACTED
    url: https://api.easypost.com/v2/batches/batch_13cc297d60e7438db6ac3c129e58ca7f/buy
    method: POST
  response:
    body: '{"id":"batch_13cc297d60e7438db6ac3c129e58ca7f","object":"Batch","mode":"test","state":"created","num_shipments":1,"reference":null,"created_at":"2022-08-19T17:47:30Z","updated_at":"2022-08-19T17:47:30Z","scan_form":null,"shipments":[{"batch_status":"queued_for_purchase","batch_message":null,"reference":null,"tracking_code":null,"id":"shp_00eea1e82e824dc7a9b3b3dfe08cbbd3"}],"status":{"created":1,"queued_for_purchase":0,"creation_failed":0,"postage_purchased":0,"postage_purchase_failed":0},"pickup":null,"label_url":null}'
    headers:
      Cache-Control:
      - private, no-cache, no-store
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"4bb808973f4cbbe74743142541191028"
      Expires:
      - "0"
      Pragma:
      - no-cache
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Backend:
      - easypost
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Ep-Request-Uuid:
      - 2196158562ffccb2ff246ba100700ab0
      X-Frame-Options:
      - SAMEORIGIN
      X-Node:
      - bigweb3nuq
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Proxied:
      - intlb2nuq 6aa9972c1e
      - intlb1wdc 6aa9972c1e
      - extlb4wdc 9ce216bfac
      X-Runtime:
      - "0.062157"
      X-Version-Label:
      - easypost-202208182050-2b41e8e3e0-master
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: file_format=
    form:
      file_format:
      - ""
    headers:
      Authorization:
      - REDACTED
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - REDACTED
    url: https://api.easypost.com/v2/batches/batch_13cc297d60e7438db6ac3c129e58ca7f/scan_form
    method: POST
  response:
    body: '{"id":"batch_13cc297d60e7438db6ac3c129e58ca7f","object":"Batch","mode":"test","state":"purchased","num_shipments":1,"reference":null,"created_at":"2022-08-19T17:47:30Z","updated_at":"2022-08-19T17:47:36Z","scan_form":{"id":"sf_19a9f92a2a0e46da8316132399b4a4b2","object":"ScanForm","created_at":"2022-08-19T17:47:36Z","updated_at":"2022-08-19T17:47:36Z","tracking_codes":[],"address":null,"status":"creating","message":null,"form_url":null,"form_file_type":null,"batch_id":"batch_13cc297d60e7438db6ac3c129e58ca7f","confirmation":null},"shipments":[{"batch_status":"postage_purchased","batch_message":null,"reference":null,"tracking_code":"9400100109361133883592","id":"shp_00eea1e82e824dc7a9b3b3dfe08cbbd3"}],"status":{"created":0,"queued_for_purchase":0,"creation_failed":0,"postage_purchased":1,"postage_purchase_failed":0},"pickup":null,"label_url":null}'
    headers:
      Cache-Control:
      - private, no-cache, no-store
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"f76cfef65e0f1d25ac28d264eff4950c"
      Expires:
      - "0"
      Pragma:
      - no-cache
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Backend:
      - easypost
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Ep-Request-Uuid:
      - 2196158562ffccb8ff246ba100700cc8
      X-Frame-Options:
      - SAMEORIGIN
      X-Node:
      - bigweb3nuq
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Proxied:
      - intlb2nuq 6aa9972c1e
      - intlb2wdc 6aa9972c1e
      - extlb4wdc 9ce216bfac
      X-Runtime:
      - "0.110159"
      X-Version-Label:
      - easypost-202208182050-2b41e8e3e0-master
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
